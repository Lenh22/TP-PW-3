@page "/gameDelete/{id:int}"
@inject IGameService GameService
@inject NavigationManager NavigationManager

<h1>Eliminar juego</h1>

<div class="page-content mb-2">
    <h6 class="text-center text-danger">
        ¿Está seguro que desea eliminar este juego?
    </h6>
</div>
 <div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="page-content mb-2">
                <!-- ***** Banner Inicio ***** -->
                <div class="">
                    <div class="row">
                        <!-- **** Form inicio **** -->
            <EditForm Model="@game">
            <!-- ***** Juego Inicio ***** -->
                    <div class="gaming-library">
                        <div class="col-lg-12">
                            <div class="heading-section">
                                <h4>La <em>Libreria</em></h4>
                            </div
                                <div class="item">
                                    <ul>
                                        <li><img src="images/game-03.jpg" alt="" class="templatemo-item"></li>
                                        <li><h4>@game.Nombre</h4><span>Nombre</span></li>
                                        <li><h4>@game.Categoria</h4><span>Categoria</span></li>
                                        <li><h4>@game.Descripcion</h4><span>Descripcion</span></li>
                                        <li><h4>@game.Precio</h4><span>Precio</span></li>
                                                                   <!-- **** Botones inicio ****-->
                            <div class="text-center d-flex justify-content-center mt-1" colspan="2">
                                <div class="main-border-button m-2">
                                    <input class="btn btn-dark" type="submit" value="Eliminar" @onclick="DeleteGame" />
                                </div>
                                <div class="main-border-button m-2">
                                    <input class="btn btn-danger" type="button" value="Cancelar" @onclick="Cancel" />
                                </div>
                            </div>
                            <!-- ****  Botones Fin **** -->
                                </ul>
                            </div>
                            </div>
                    </div>
                <!-- **** Juego Fin **** -->
                    </EditForm>
                        <!-- **** Form Fin **** -->
                    </div>
                </div>
                <!-- ***** Banner Fin ***** -->
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public int id { get; set; }
    private Game game = new Game();

    protected override async Task OnInitializedAsync()
    {
        if (id != 0)
        {
            game = await GameService.GetGameDetails(id);
        }
    }

    protected async Task DeleteGame()
    {
        await GameService.DeleteGame(id);
        NavigationManager.NavigateTo("/");
    }

    protected void Cancel()
    {
        NavigationManager.NavigateTo("/");
    }
}